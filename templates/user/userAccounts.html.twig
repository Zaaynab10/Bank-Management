<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Mes Comptes{% endblock %}</title>
    <link rel="stylesheet" href="{{ asset('css/transaction.css') }}">
    <link rel="stylesheet" href="{{ asset('css/header.css') }}">
    <style>
        .active {
            color: green;
            font-weight: bold;
        }

        .inactive {
            color: red;
            font-weight: bold;
        }

        .account-item {
            margin-bottom: 20px;
        }

        .account-item strong {
            font-size: 1.2em;
        }

        .account-item p {
            margin: 5px 0;
        }

        .account-item a {
            display: inline-block;
            margin-top: 10px;
            padding: 5px 10px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 4px;
        }

        .account-item a:hover {
            background-color: #0056b3;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }

        header {
            background-color: #333;
            color: white;
            padding: 15px;
        }

        header nav a {
            color: white;
            text-decoration: none;
        }

        .main-content {
            display: flex;
            padding: 20px;
            margin-top: 20px;
        }

        .left-section {
            width: 30%;
            margin-right: 20px;
        }

        .right-section {
            width: 70%;
        }

        .left-section h2,
        .right-section h3 {
            color: #333;
        }

        .accounts ul {
            list-style-type: none;
            padding: 0;
        }

        .accounts li {
            margin-bottom: 10px;
        }

        .accounts li a {
            color: #007bff;
        }
    </style>
</head>
<body>
    {% block body %}
        <header>
            <nav>
                <a href="/user">
                    <h1>VOTRE ESPACE PERSONNEL</h1>
                </a>
                <div>
                    <a href="{{ path('app_logout') }}">Se déconnecter</a>
                    <img src="{{ asset('images/profile-placeholder.png') }}" alt="Photo de profil">
                </div>
            </nav>
        </header>

        <div class="main-content">
            <!-- Section Gauche (Comptes) -->
            <div class="left-section">
                <h2>Mes Comptes</h2>
                <ul>
                    {% for account in bankAccounts %}
                        <li class="account-item">
                            <strong>Compte {{ account.accountNumber }}</strong><br>
                            <p>Type de compte : {{ account.type.value }}</p>
                            <p>Solde actuel : {{ account.balance|number_format(2, ',', ' ') }} €</p>
                            <p>État : 
                                <span >
                                 {{ account.status.value }}
                                </span>
                            </p>
                            <a href="{{ path('user_account_transactions', { accountId: account.id }) }}">Voir les transactions</a>
                        </li>
                    {% else %}
                        <li>Aucun compte disponible.</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    {% endblock %}
</body>
</html>
